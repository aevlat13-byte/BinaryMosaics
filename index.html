<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Binary Mosaic Decode Game</title>
  <link rel="icon" href="data:," />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="app-header">
    <h1>Binary Mosaic: Decode Challenge</h1>
    <p>Decode the bitstream by painting the grid using the legend.</p>
  </header>

  <main>
    <section id="decodeTab" class="tab-panel active">
      <div class="panel controls top-controls">
        <details class="tutorial-box" id="decodeTutorial" open>
          <summary>How to play <span class="help-icon">?</span></summary>
          <ol>
            <li>Press <strong>Start levels</strong> to begin.</li>
            <li>Use the legend to map each bit token to a colour.</li>
            <li>Some early levels have a few prefilled cells to help you start.</li>
            <li>Later levels give fewer hints; last 3 are fully blank.</li>
            <li>Paint with your selected colour and press <strong>Check</strong>.</li>
          </ol>
        </details>

        <div class="tool-row">
          <button id="startLevelsBtn">Start levels</button>
          <button id="startChallengeBtn">Reset current level</button>
          <button id="checkChallengeBtn">Check</button>
        </div>

        <p id="levelStatus" class="status"></p>
        <p id="decodeStatus" class="status" role="status" aria-live="polite"></p>
        <p id="scoreOutput" class="status" aria-live="polite"></p>
      </div>

      <section class="panel canvas-panel">
        <div class="canvas-meta">
          <fieldset>
            <legend>Paint colour</legend>
            <div id="paintPalette" class="palette-row" aria-label="Choose decode paint colour"></div>
          </fieldset>
          <aside>
            <h4>Legend (bits â†’ colour)</h4>
            <div id="decodeLegend" class="legend-output" aria-live="polite"></div>
          </aside>
        </div>

        <div class="canvas-center">
          <div id="decodeGrid" class="pixel-grid big-grid" tabindex="0" aria-label="Decode grid"></div>
        </div>
        <p id="timerOutput">Total timer: 0s</p>
      </section>
    </section>
  </main>

  <script src="puzzles.js"></script>
  <script src="app.js"></script>
</body>
</html>
